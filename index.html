<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wizer TV - Streaming Profissional</title>
    
    <!-- Scripts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #050505;
            color: white;
            margin: 0;
            overflow-x: hidden;
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .glass-nav {
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .movie-card {
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .movie-card:hover {
            transform: scale(1.08);
            z-index: 30;
        }

        .hero-gradient {
            background: linear-gradient(to top, #050505 0%, rgba(5, 5, 5, 0.4) 40%, transparent 100%);
        }
        .hero-side-gradient {
            background: linear-gradient(to right, #050505 0%, transparent 70%);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade { animation: fadeIn 0.6s ease-out forwards; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Custom SVG Icons to avoid CDN dependency issues
        const Icons = {
            MonitorPlay: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="20" height="14" x="2" y="3" rx="2"/><line x1="8" x2="16" y1="21" y2="21"/><line x1="12" x2="12" y1="17" y2="21"/><path d="m10 7 5 3-5 3Z"/></svg>
            ),
            Search: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
            ),
            Bell: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></svg>
            ),
            ChevronRight: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>
            ),
            ChevronLeft: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m15 18-6-6 6-6"/></svg>
            ),
            Play: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="6 3 20 12 6 21 6 3"/></svg>
            ),
            Info: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
            ),
            Star: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
            ),
            X: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
            ),
            TrendingUp: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>
            )
        };

        const API_KEY = '741fd22ccd6cebe13c498c8efc5c1576';
        const BASE_URL = 'https://api.themoviedb.org/3';
        const IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/original';
        const POSTER_BASE_URL = 'https://image.tmdb.org/t/p/w500';

        const MovieRow = ({ title, items, onSelect }) => {
            const scrollRef = useRef(null);

            const scroll = (dir) => {
                if (scrollRef.current) {
                    const { clientWidth } = scrollRef.current;
                    const offset = dir === 'left' ? -clientWidth * 0.7 : clientWidth * 0.7;
                    scrollRef.current.scrollBy({ left: offset, behavior: 'smooth' });
                }
            };

            return (
                <div className="mb-12 group/row relative overflow-visible">
                    <h3 className="text-xl md:text-2xl font-bold mb-4 px-6 md:px-12 flex items-center gap-2 hover:text-purple-500 transition-colors cursor-pointer w-max">
                        {title} <Icons.ChevronRight className="w-6 h-6" />
                    </h3>
                    
                    <div className="relative group">
                        <button 
                            onClick={() => scroll('left')} 
                            className="absolute left-0 top-0 bottom-0 z-40 bg-black/50 w-12 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/80"
                        >
                            <Icons.ChevronLeft className="w-8 h-8 text-white" />
                        </button>
                        
                        <div ref={scrollRef} className="flex overflow-x-auto gap-4 px-6 md:px-12 no-scrollbar scroll-smooth py-2">
                            {items.map((item) => (
                                <div 
                                    key={item.id}
                                    onClick={() => onSelect(item)}
                                    className="flex-none w-[160px] md:w-[230px] movie-card cursor-pointer relative"
                                >
                                    <div className="aspect-[2/3] rounded-lg overflow-hidden bg-zinc-900 border border-white/5 shadow-lg">
                                        <img 
                                            src={item.poster_path ? `${POSTER_BASE_URL}${item.poster_path}` : 'https://via.placeholder.com/500x750?text=Sem+Poster'} 
                                            alt={item.title || item.name}
                                            className="w-full h-full object-cover"
                                            loading="lazy"
                                        />
                                        <div className="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-0 hover:opacity-100 transition-all p-4 flex flex-col justify-end">
                                            <div className="flex items-center gap-1 text-green-400 text-xs font-bold mb-1">
                                                <Icons.Star className="w-3 h-3 fill-current" />
                                                {Math.round(item.vote_average * 10)}% Relevante
                                            </div>
                                            <p className="text-sm font-bold truncate text-white">{item.title || item.name}</p>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>

                        <button 
                            onClick={() => scroll('right')} 
                            className="absolute right-0 top-0 bottom-0 z-40 bg-black/50 w-12 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/80"
                        >
                            <Icons.ChevronRight className="w-8 h-8 text-white" />
                        </button>
                    </div>
                </div>
            );
        };

        function App() {
            const [data, setData] = useState({ trending: [], movies: [], series: [], animes: [] });
            const [selected, setSelected] = useState(null);
            const [scrolled, setScrolled] = useState(false);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                const loadData = async () => {
                    try {
                        const endpoints = [
                            `${BASE_URL}/trending/all/week?api_key=${API_KEY}&language=pt-BR`,
                            `${BASE_URL}/movie/popular?api_key=${API_KEY}&language=pt-BR`,
                            `${BASE_URL}/tv/popular?api_key=${API_KEY}&language=pt-BR`,
                            `${BASE_URL}/discover/tv?api_key=${API_KEY}&language=pt-BR&with_genres=16`
                        ];
                        
                        const responses = await Promise.all(endpoints.map(url => fetch(url).then(res => res.json())));
                        
                        setData({
                            trending: responses[0].results || [],
                            movies: responses[1].results || [],
                            series: responses[2].results || [],
                            animes: responses[3].results || []
                        });
                    } catch (error) {
                        console.error("Erro ao carregar dados:", error);
                    } finally {
                        setLoading(false);
                    }
                };

                loadData();

                const handleScroll = () => setScrolled(window.scrollY > 20);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            if (loading) return (
                <div className="h-screen w-screen flex items-center justify-center bg-black">
                    <div className="w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"></div>
                </div>
            );

            const featured = data.trending[0] || data.movies[0];

            return (
                <div className="relative min-h-screen bg-[#050505]">
                    {/* Header */}
                    <nav className={`fixed top-0 w-full z-[100] transition-all duration-500 px-6 md:px-12 py-4 flex items-center justify-between ${scrolled ? 'glass-nav shadow-2xl' : 'bg-transparent'}`}>
                        <div className="flex items-center gap-10">
                            <div className="flex items-center gap-2 text-2xl font-black tracking-tighter text-purple-600 cursor-pointer">
                                <Icons.MonitorPlay className="w-8 h-8" />
                                WIZER<span className="text-white">TV</span>
                            </div>
                            <div className="hidden lg:flex gap-6 text-sm font-medium text-zinc-300">
                                <a href="#" className="hover:text-white transition-colors">Início</a>
                                <a href="#" className="hover:text-white transition-colors">Séries</a>
                                <a href="#" className="hover:text-white transition-colors">Filmes</a>
                                <a href="#" className="hover:text-white transition-colors">Bombando</a>
                            </div>
                        </div>
                        <div className="flex items-center gap-6">
                            <Icons.Search className="cursor-pointer hover:text-purple-500 transition-colors w-5 h-5" />
                            <Icons.Bell className="cursor-pointer hover:text-purple-500 transition-colors w-5 h-5" />
                            <div className="w-8 h-8 rounded-full bg-purple-700 flex items-center justify-center font-bold text-xs ring-2 ring-white/10">U</div>
                        </div>
                    </nav>

                    {/* Hero Section */}
                    {featured && (
                        <div className="relative h-[90vh] w-full animate-fade">
                            <img 
                                src={`${IMAGE_BASE_URL}${featured.backdrop_path}`} 
                                className="w-full h-full object-cover" 
                                alt="Banner"
                            />
                            <div className="absolute inset-0 hero-side-gradient" />
                            <div className="absolute inset-0 hero-gradient" />
                            
                            <div className="absolute bottom-32 left-6 md:left-12 max-w-2xl space-y-4">
                                <div className="flex items-center gap-2 text-purple-400 font-bold uppercase tracking-widest text-xs">
                                    <Icons.TrendingUp className="w-4 h-4" /> Original Wizer
                                </div>
                                <h1 className="text-4xl md:text-7xl font-black uppercase leading-tight drop-shadow-2xl">
                                    {featured.title || featured.name}
                                </h1>
                                <p className="text-zinc-200 text-lg line-clamp-3 font-medium drop-shadow-lg max-w-xl">
                                    {featured.overview}
                                </p>
                                <div className="flex gap-4 pt-4">
                                    <button className="bg-white text-black px-10 py-3 rounded-md font-bold flex items-center gap-2 hover:bg-zinc-200 transition-all shadow-lg">
                                        <Icons.Play className="w-5 h-5 fill-current" /> Assistir
                                    </button>
                                    <button 
                                        onClick={() => setSelected(featured)}
                                        className="bg-zinc-500/30 backdrop-blur-md text-white px-8 py-3 rounded-md font-bold flex items-center gap-2 border border-white/20 hover:bg-zinc-500/50 transition-all"
                                    >
                                        <Icons.Info className="w-5 h-5" /> Detalhes
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Content */}
                    <div className="relative z-20 -mt-24 space-y-2 pb-20">
                        <MovieRow title="Tendências da Semana" items={data.trending.slice(1)} onSelect={setSelected} />
                        <MovieRow title="Filmes de Sucesso" items={data.movies} onSelect={setSelected} />
                        <MovieRow title="Séries em Alta" items={data.series} onSelect={setSelected} />
                        <MovieRow title="Melhores Animes" items={data.animes} onSelect={setSelected} />
                    </div>

                    {/* Modal */}
                    {selected && (
                        <div className="fixed inset-0 z-[200] flex items-center justify-center p-4 animate-fade">
                            <div className="absolute inset-0 bg-black/90 backdrop-blur-md" onClick={() => setSelected(null)} />
                            <div className="relative bg-[#181818] w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-xl shadow-2xl border border-white/10 no-scrollbar">
                                <button 
                                    onClick={() => setSelected(null)} 
                                    className="absolute top-4 right-4 z-50 p-2 bg-black/60 rounded-full hover:bg-white hover:text-black transition-all"
                                >
                                    <Icons.X className="w-6 h-6" />
                                </button>
                                
                                <div className="h-64 md:h-[450px] relative">
                                    <img 
                                        src={`${IMAGE_BASE_URL}${selected.backdrop_path}`} 
                                        className="w-full h-full object-cover" 
                                        alt="Backdrop"
                                    />
                                    <div className="absolute inset-0 bg-gradient-to-t from-[#181818] via-transparent to-transparent" />
                                    <div className="absolute bottom-8 left-8 right-8">
                                        <h2 className="text-3xl md:text-5xl font-black uppercase mb-6">{selected.title || selected.name}</h2>
                                        <div className="flex gap-4">
                                            <button className="bg-white text-black px-10 py-3 rounded font-bold hover:bg-zinc-200 transition-colors">Assistir Agora</button>
                                            <button className="p-3 rounded-full border border-white/40 hover:bg-white/10 transition-colors">
                                                <Icons.Star className="w-5 h-5" />
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="p-8 grid grid-cols-1 md:grid-cols-3 gap-8">
                                    <div className="md:col-span-2 space-y-4">
                                        <div className="flex items-center gap-4 text-sm font-bold">
                                            <span className="text-green-400">{Math.round(selected.vote_average * 10)}% Relevante</span>
                                            <span className="text-zinc-400">{(selected.release_date || selected.first_air_date || '').split('-')[0]}</span>
                                            <span className="border border-zinc-600 px-2 py-0.5 rounded text-[10px] text-zinc-300">Ultra HD 4K</span>
                                        </div>
                                        <p className="text-zinc-300 text-lg leading-relaxed font-light">
                                            {selected.overview || "Nenhuma descrição disponível em português."}
                                        </p>
                                    </div>
                                    <div className="space-y-4 text-sm">
                                        <div><span className="text-zinc-500">Avaliação:</span> <span className="text-zinc-300">{selected.vote_average}/10</span></div>
                                        <div><span className="text-zinc-500">Idiomas:</span> <span className="text-zinc-300">Português, Inglês</span></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>